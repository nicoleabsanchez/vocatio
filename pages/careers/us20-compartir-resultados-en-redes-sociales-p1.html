<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Compartir resultados del test vocacional">
  <title>Compartir Resultados - Vocatio</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    * { margin:0;padding:0;box-sizing:border-box }
    body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg,#f5f3ff 0%,#ede9fe 100%); min-height:100vh;padding:40px 20px }
    .container{max-width:900px;margin:0 auto;display:flex;flex-direction:column;gap:30px}
    .header{text-align:center;margin-bottom:20px}
    .logo{font-size:48px;color:#693efe;font-weight:700;margin-bottom:10px;text-align:center}
    .title{font-size:36px;font-weight:700;color:#1b1b1b;margin-bottom:10px;text-align:center}
    .subtitle{font-size:18px;color:#8b8a92;text-align:center}
    .main-content{display:flex;flex-direction:column;gap:20px;align-items:center}
    .results-card{background:#fff;border-radius:20px;padding:40px;box-shadow:0 10px 30px rgba(105,62,254,0.1);max-width:800px;width:100%}
    .results-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:30px}
    .result-item{background:#f9f8ff;border:3px solid #d9d4ff;border-radius:15px;padding:25px;text-align:center}
    .result-emoji{font-size:48px;margin-bottom:10px}
    .result-name{font-size:24px;font-weight:700;color:#693efe;margin-bottom:5px}
    .result-percentage{font-size:16px;color:#7e7af7}
    .date-info{text-align:center;color:#b2a6ff;font-size:16px;margin-top:20px;padding-top:20px;border-top:2px solid #e5e0ff}
    .careers-card{background:#fff;border:2px solid #7e7af7;border-radius:20px;padding:40px;max-width:800px;width:100%}
    .careers-title{font-size:24px;font-weight:700;color:#1b1b1b;margin-bottom:20px;text-align:center}
    .careers-list{list-style:none;display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .careers-list li{padding:12px;background:#f9f8ff;border-radius:8px;color:#1b1b1b;font-size:16px;display:flex;align-items:center;gap:10px}
    .careers-list li::before{content:'‚úì';color:#693efe;font-weight:700;font-size:20px}
    .sidebar{display:flex;flex-direction:column;gap:20px;max-width:800px;width:100%}
    .customize-card{background:#fff;border-radius:20px;padding:30px;box-shadow:0 10px 30px rgba(105,62,254,0.1)}
    .customize-title{font-size:20px;font-weight:700;color:#1b1b1b;margin-bottom:20px}
    .form-group{margin-bottom:15px}
    .form-label{display:block;font-weight:600;color:#1b1b1b;margin-bottom:6px;font-size:14px}
    .form-input,.form-textarea,.form-select{width:100%;padding:10px;border:2px solid #d9d4ff;border-radius:8px;font-family:'Inter',sans-serif;font-size:14px}
    .form-input:focus,.form-textarea:focus,.form-select:focus{outline:none;border-color:#693efe;box-shadow:0 0 0 3px rgba(105,62,254,0.1)}
    .preview-btn{background:#693efe;color:#fff;border:none;border-radius:10px;padding:15px;font-size:16px;font-weight:600;cursor:pointer;width:100%;margin-bottom:15px}
    .share-card{background:#fff;border-radius:20px;padding:30px;box-shadow:0 10px 30px rgba(105,62,254,0.1)}
    .share-title{font-size:18px;font-weight:700;color:#1b1b1b;margin-bottom:15px;text-align:center}
    .social-buttons{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .social-btn{background:#fff;border:2px solid #693efe;border-radius:10px;padding:12px;font-size:14px;font-weight:500;color:#693efe;cursor:pointer;display:flex;align-items:center;justify-content:center;text-decoration:none}
    .social-btn:hover{background:#f9f8ff}
    .download-btn{background:#693efe;color:#fff;border-color:#693efe}
    .download-btn:hover{background:#5a2ec7}
    .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:1000;align-items:center;justify-content:center;padding:20px}
    .modal.active{display:flex}
    .modal-content{background:#fff;border-radius:20px;padding:40px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;position:relative}
    .modal-close{position:absolute;top:15px;right:15px;background:none;border:none;font-size:32px;cursor:pointer;color:#8b8a92}
    .preview-title{text-align:center;margin-bottom:20px;font-size:24px;font-weight:700;color:#1b1b1b}
    @media(max-width:768px){.title{font-size:28px}.logo{font-size:36px}.results-grid{grid-template-columns:1fr}.careers-list{grid-template-columns:1fr}.social-buttons{grid-template-columns:1fr}}
</head>
<body>
  <div class="header" style="display:flex; justify-content:space-between; align-items:center; background:linear-gradient(135deg,#693efe 0%,#8b7aff 100%); padding:20px 40px; color:white; margin-bottom:20px;">
    <div class="logo" style="color:white;">vocatio</div>
    <nav style="display:flex; gap:30px; justify-content:center; flex:1;">
      <a href="./explore.html" style="color:rgba(255,255,255,0.9); text-decoration:none; font-size:16px; transition:color 0.3s;">Explorar carreras</a>
      <a href="#" style="color:rgba(255,255,255,0.9); text-decoration:none; font-size:16px; transition:color 0.3s;">Eventos</a>
      <a href="#" style="color:rgba(255,255,255,0.9); text-decoration:none; font-size:16px; transition:color 0.3s;">Test vocacional</a>
      <a href="./progreso.complete.html" style="color:rgba(255,255,255,0.9); text-decoration:none; font-size:16px; transition:color 0.3s;">Progreso</a>
    </nav>
  </div>
  <div class="header">
    <div class="logo">vocatio</div>
    <h1 class="title">Mis Resultados</h1>
    <p class="subtitle">Personaliza y comparte tus resultados</p>
  </div>

  <div class="container">
    <div class="main-content">
      <div class="results-card" id="resultsCard">
        <div class="results-grid">
          <div class="result-item">
            <div class="result-emoji">üíª</div>
            <div class="result-name">Tecnolog√≠a</div>
            <div class="result-percentage" id="affinity-tecnologia">‚Äî% de afinidad</div>
          </div>
          <div class="result-item">
            <div class="result-emoji">üî¨</div>
            <div class="result-name">Ciencias</div>
            <div class="result-percentage" id="affinity-ciencias">‚Äî% de afinidad</div>
          </div>
          <div class="result-item">
            <div class="result-emoji">üé®</div>
            <div class="result-name">Arte</div>
            <div class="result-percentage" id="affinity-innovacion">‚Äî% de afinidad</div>
          </div>
          <div class="result-item">
            <div class="result-emoji">üíº</div>
            <div class="result-name">Negocios</div>
            <div class="result-percentage" id="affinity-analisis">‚Äî% de afinidad</div>
          </div>
        </div>
        <div class="date-info" id="dateInfo">Realizado el ‚Äî</div>
      </div>

      <div class="careers-card">
        <h3 class="careers-title">Carreras Recomendadas</h3>
        <ul class="careers-list" id="recommended-list">
          <!-- Se rellenar√° din√°micamente -->
        </ul>
      </div>
    </div>

    <div class="sidebar">
      <div class="customize-card">
        <h2 class="customize-title">‚ú® Personalizar</h2>
        <div class="form-group">
          <label class="form-label">T√≠tulo personalizado</label>
          <input type="text" class="form-input" id="customTitle" placeholder="Ej: ¬°Descubr√≠ mi vocaci√≥n!">
        </div>
        <div class="form-group">
          <label class="form-label">Mensaje personalizado</label>
          <textarea class="form-textarea" id="customMessage" placeholder="Agrega un mensaje personal para compartir..."></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">Tema de color</label>
          <select class="form-select" id="colorTheme">
            <option value="purple">Morado (Predeterminado)</option>
            <option value="blue">Azul</option>
            <option value="green">Verde</option>
            <option value="orange">Naranja</option>
            <option value="pink">Rosa</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Mostrar fecha</label>
          <select class="form-select" id="showDate">
            <option value="yes">S√≠</option>
            <option value="no">No</option>
          </select>
        </div>
        <button class="preview-btn" id="previewBtn">üëÅÔ∏è Vista Previa</button>
      </div>

      <div class="share-card">
        <h3 class="share-title">Compartir en:</h3>
        <div class="social-buttons">
          <a href="#" class="social-btn" id="facebookBtn">üìò Facebook</a>
          <a href="#" class="social-btn" id="twitterBtn">üê¶ Twitter</a>
          <a href="#" class="social-btn" id="linkedinBtn">üíº LinkedIn</a>
          <a href="#" class="social-btn" id="instagramBtn">üì∑ Instagram</a>
          <button class="social-btn download-btn" id="downloadBtn">‚¨áÔ∏è Descargar</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="previewModal">
    <div class="modal-content">
      <button class="modal-close" id="closeModal">√ó</button>
      <h2 class="preview-title">Vista Previa para Compartir</h2>
      <div id="previewContainer"></div>
      <p style="text-align:center;color:#8b8a92;margin-top:15px;">Esta es la vista previa de c√≥mo se ver√° tu publicaci√≥n</p>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    const themes = {
      purple:{primary:'#693efe',secondary:'#7e7af7',light:'#f9f8ff',border:'#d9d4ff'},
      blue:{primary:'#2563eb',secondary:'#3b82f6',light:'#eff6ff',border:'#bfdbfe'},
      green:{primary:'#059669',secondary:'#10b981',light:'#f0fdf4',border:'#bbf7d0'},
      orange:{primary:'#ea580c',secondary:'#f97316',light:'#fff7ed',border:'#fed7aa'},
      pink:{primary:'#db2777',secondary:'#ec4899',light:'#fdf2f8',border:'#fbcfe8'}
    };

    let currentTheme='purple',customTitle='',customMessage='',showDate=true;

    function applyTheme(theme){
      const colors=themes[theme];
      document.querySelectorAll('.result-item').forEach(item=>{item.style.backgroundColor=colors.light;item.style.borderColor=colors.border});
      document.querySelectorAll('.result-name').forEach(name=>name.style.color=colors.primary);
      document.querySelectorAll('.result-percentage').forEach(p=>p.style.color=colors.secondary);
      document.querySelector('.logo').style.color=colors.primary;
      document.querySelectorAll('.preview-btn,.download-btn').forEach(btn=>btn.style.backgroundColor=colors.primary);
    }

    document.getElementById('colorTheme').addEventListener('change',function(e){currentTheme=e.target.value;applyTheme(currentTheme)});
    document.getElementById('showDate').addEventListener('change',function(e){showDate=e.target.value==='yes';document.getElementById('dateInfo').style.display=showDate?'block':'none'});
    document.getElementById('previewBtn').addEventListener('click',function(){customTitle=document.getElementById('customTitle').value;customMessage=document.getElementById('customMessage').value;generatePreview()});

    function generatePreview(){
      const previewContainer=document.getElementById('previewContainer');const colors=themes[currentTheme];
      const previewCard=document.createElement('div');previewCard.style.cssText='background:#fff;border-radius:20px;padding:40px;box-shadow:0 10px 30px rgba(105,62,254,0.1)';
      const logoEl=document.createElement('div');logoEl.textContent='vocatio';logoEl.style.cssText=`font-size:42px;font-weight:700;color:${colors.primary};margin-bottom:20px;text-align:center`;previewCard.appendChild(logoEl);
      const titleEl=document.createElement('h2');titleEl.textContent=customTitle||'¬°Descubr√≠ mi vocaci√≥n!';titleEl.style.cssText='font-size:28px;font-weight:700;color:#1b1b1b;margin-bottom:15px;text-align:center';previewCard.appendChild(titleEl);
      const resultsGrid=document.createElement('div');resultsGrid.style.cssText='display:grid;grid-template-columns:repeat(2,1fr);gap:15px;margin:25px 0';
      const results=[{emoji:'üíª',name:'Tecnolog√≠a',percentage:document.getElementById('affinity-tecnologia').textContent},{emoji:'üî¨',name:'Ciencias',percentage:document.getElementById('affinity-ciencias').textContent},{emoji:'üí°',name:'Innovaci√≥n',percentage:document.getElementById('affinity-innovacion').textContent},{emoji:'üìä',name:'An√°lisis',percentage:document.getElementById('affinity-analisis').textContent}];
      results.forEach(result=>{const item=document.createElement('div');item.style.cssText=`background:${colors.light};border:3px solid ${colors.border};border-radius:15px;padding:20px;text-align:center`;item.innerHTML=`<div style="font-size:40px;margin-bottom:8px;">${result.emoji}</div><div style="font-size:20px;font-weight:700;color:${colors.primary};margin-bottom:5px;">${result.name}</div><div style="font-size:14px;color:${colors.secondary};">${result.percentage}</div>`;resultsGrid.appendChild(item)});
      previewCard.appendChild(resultsGrid);
      if(showDate){const dateEl=document.createElement('div');dateEl.textContent=document.getElementById('dateInfo').textContent;dateEl.style.cssText=`text-align:center;color:${colors.secondary};font-size:14px;margin-top:15px;padding-top:15px;border-top:2px solid ${colors.border}`;previewCard.appendChild(dateEl)}
      if(customMessage){const messageEl=document.createElement('p');messageEl.textContent=customMessage;messageEl.style.cssText='font-size:16px;color:#67666f;margin-top:20px;text-align:center;line-height:1.6;padding:15px;background:#f9f8ff;border-radius:10px';previewCard.appendChild(messageEl)}
      const hashtagsEl=document.createElement('div');hashtagsEl.textContent='#Vocatio #TestVocacional #MiVocaci√≥n';hashtagsEl.style.cssText=`text-align:center;color:${colors.primary};font-size:14px;margin-top:20px;font-weight:600`;previewCard.appendChild(hashtagsEl);
      previewContainer.innerHTML='';previewContainer.appendChild(previewCard);document.getElementById('previewModal').classList.add('active')}

    document.getElementById('closeModal').addEventListener('click',function(){document.getElementById('previewModal').classList.remove('active')});
    document.getElementById('previewModal').addEventListener('click',function(e){if(e.target===this)this.classList.remove('active')});

    function getShareUrl(network){const pageUrl=encodeURIComponent(window.location.href);const title=customTitle||'¬°Mira mis resultados del test vocacional!';const message=customMessage||'Descubr√≠ mis √°reas de mayor afinidad vocacional';const text=encodeURIComponent(`${title} ${message} en Vocatio üíªüî¨ #Vocatio #TestVocacional`);switch(network){case'facebook':return`https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;case'twitter':return`https://twitter.com/intent/tweet?url=${pageUrl}&text=${text}`;case'linkedin':return`https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}`;default:return null}}

    document.getElementById('facebookBtn').addEventListener('click',function(e){e.preventDefault();const url=getShareUrl('facebook');if(url)window.open(url,'_blank','width=600,height=400')});
    document.getElementById('twitterBtn').addEventListener('click',function(e){e.preventDefault();const url=getShareUrl('twitter');if(url)window.open(url,'_blank','width=600,height=400')});
    document.getElementById('linkedinBtn').addEventListener('click',function(e){e.preventDefault();const url=getShareUrl('linkedin');if(url)window.open(url,'_blank','width=600,height=400')});
    document.getElementById('instagramBtn').addEventListener('click',function(e){e.preventDefault();alert('üí° Consejo: Usa el bot√≥n "Descargar" para guardar tu resultado y compartirlo en Instagram Stories o Feed')});

    document.getElementById('downloadBtn').addEventListener('click',async function(){this.textContent='‚è≥ Generando...';this.disabled=true;try{const tempDiv=document.createElement('div');tempDiv.style.cssText='position:fixed;left:-9999px;top:0';document.body.appendChild(tempDiv);const colors=themes[currentTheme];const previewCard=document.createElement('div');previewCard.style.cssText=`background:#fff;width:1200px;padding:60px;font-family:'Inter',sans-serif`;const logoEl=document.createElement('div');logoEl.textContent='vocatio';logoEl.style.cssText=`font-size:52px;font-weight:700;color:${colors.primary};margin-bottom:25px;text-align:center`;previewCard.appendChild(logoEl);const titleEl=document.createElement('h2');titleEl.textContent=customTitle||'¬°Descubr√≠ mi vocaci√≥n!';titleEl.style.cssText='font-size:36px;font-weight:700;color:#1b1b1b;margin-bottom:20px;text-align:center';previewCard.appendChild(titleEl);const resultsGrid=document.createElement('div');resultsGrid.style.cssText='display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin:30px 0';const results=[{emoji:'üíª',name:'Tecnolog√≠a',percentage:document.getElementById('affinity-tecnologia').textContent},{emoji:'üî¨',name:'Ciencias',percentage:document.getElementById('affinity-ciencias').textContent},{emoji:'üí°',name:'Innovaci√≥n',percentage:document.getElementById('affinity-innovacion').textContent},{emoji:'üìä',name:'An√°lisis',percentage:document.getElementById('affinity-analisis').textContent}];results.forEach(result=>{const item=document.createElement('div');item.style.cssText=`background:${colors.light};border:3px solid ${colors.border};border-radius:15px;padding:30px;text-align:center`;item.innerHTML=`<div style="font-size:52px;margin-bottom:10px">${result.emoji}</div><div style="font-size:26px;font-weight:700;color:${colors.primary};margin-bottom:8px">${result.name}</div><div style="font-size:18px;color:${colors.secondary}">${result.percentage}</div>`;resultsGrid.appendChild(item)});previewCard.appendChild(resultsGrid);if(showDate){const dateEl=document.createElement('div');dateEl.textContent=document.getElementById('dateInfo').textContent;dateEl.style.cssText=`text-align:center;color:${colors.secondary};font-size:16px;margin-top:20px;padding-top:20px;border-top:2px solid ${colors.border}`;previewCard.appendChild(dateEl)}if(customMessage){const messageEl=document.createElement('p');messageEl.textContent=customMessage;messageEl.style.cssText='font-size:18px;color:#67666f;margin-top:25px;text-align:center;line-height:1.6;padding:20px;background:#f9f8ff;border-radius:10px';previewCard.appendChild(messageEl)}const hashtagsEl=document.createElement('div');hashtagsEl.textContent='#Vocatio #TestVocacional #MiVocaci√≥n';hashtagsEl.style.cssText=`text-align:center;color:${colors.primary};font-size:16px;margin-top:25px;font-weight:600`;previewCard.appendChild(hashtagsEl);tempDiv.appendChild(previewCard);const canvas=await html2canvas(previewCard,{backgroundColor:'#ffffff',scale:2,logging:false,width:1200});document.body.removeChild(tempDiv);const link=document.createElement('a');link.download='mis-resultados-vocatio.png';link.href=canvas.toDataURL('image/png');link.click();this.textContent='‚úÖ ¬°Descargado!';setTimeout(()=>{this.textContent='‚¨áÔ∏è Descargar';this.disabled=false},2000)}catch(error){console.error('Error al generar imagen:',error);this.textContent='‚ùå Error';setTimeout(()=>{this.textContent='‚¨áÔ∏è Descargar';this.disabled=false},2000)}});

    // Cargar datos del test vocacional desde localStorage
    function cargarDatosDelTest() {
      const testResults = localStorage.getItem('vocatioTestResults');
      if (testResults) {
        const data = JSON.parse(testResults);
        
        // Cargar porcentajes de afinidad
        if (data.porcentajes) {
          const porcentajesMap = {
            'Tecnolog√≠a': 'affinity-tecnologia',
            'Ciencias': 'affinity-ciencias',
            'Arte': 'affinity-innovacion',
            'Negocios': 'affinity-analisis'
          };
          
          Object.entries(data.porcentajes).forEach(([key, value]) => {
            const elementId = porcentajesMap[key];
            if (elementId) {
              document.getElementById(elementId).textContent = value + '% de afinidad';
            }
          });
        }
        
        // Cargar fecha del test
        if (data.fecha) {
          const fecha = new Date(data.fecha).toLocaleDateString('es-ES', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
          });
          document.getElementById('dateInfo').textContent = 'Realizado el ' + fecha;
        }
        
        // Cargar carreras recomendadas
        if (data.recomendaciones && data.recomendaciones.length > 0) {
          const listHTML = data.recomendaciones.map(career => `<li>${career}</li>`).join('');
          document.getElementById('recommended-list').innerHTML = listHTML;
        }
      }
    }

    // Inicializar valores
    document.addEventListener('DOMContentLoaded',function(){
      cargarDatosDelTest();
      applyTheme(currentTheme);
    });
  </script>
</body>
</html>
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <meta name="description" content="Compartir resultados del test vocacional">
          <title>Compartir Resultados - Vocatio</title>
          <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
          <style>
            * { margin:0;padding:0;box-sizing:border-box }
            body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg,#f5f3ff 0%,#ede9fe 100%); min-height:100vh;padding:40px 20px }
            .container{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1fr 400px;gap:30px}
            .header{grid-column:1/-1;text-align:center;margin-bottom:20px}
            .logo{font-size:48px;color:#693efe;font-weight:700;margin-bottom:10px}
            .title{font-size:36px;font-weight:700;color:#1b1b1b;margin-bottom:10px}
            .subtitle{font-size:18px;color:#8b8a92}
            .results-card{background:#fff;border-radius:20px;padding:40px;box-shadow:0 10px 30px rgba(105,62,254,0.1)}
            .results-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:30px}
            .result-item{background:#f9f8ff;border:3px solid #d9d4ff;border-radius:15px;padding:25px;text-align:center}
            .result-emoji{font-size:48px;margin-bottom:10px}
            .result-name{font-size:24px;font-weight:700;color:#693efe;margin-bottom:5px}
            .result-percentage{font-size:16px;color:#7e7af7}
            .date-info{text-align:center;color:#b2a6ff;font-size:16px;margin-top:20px;padding-top:20px;border-top:2px solid #e5e0ff}
            .careers-card{background:#fff;border:2px solid #7e7af7;border-radius:20px;padding:40px}
            .careers-title{font-size:24px;font-weight:700;color:#1b1b1b;margin-bottom:20px}
            .careers-list{list-style:none;display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
            .careers-list li{padding:12px;background:#f9f8ff;border-radius:8px;color:#1b1b1b;font-size:16px;display:flex;align-items:center;gap:10px}
            .careers-list li::before{content:'‚úì';color:#693efe;font-weight:700;font-size:20px}
            .sidebar{display:flex;flex-direction:column;gap:20px}
            .customize-card{background:#fff;border-radius:20px;padding:30px;box-shadow:0 10px 30px rgba(105,62,254,0.1);position:sticky;top:20px}
            .preview-btn{background:#693efe;color:#fff;border:none;border-radius:10px;padding:15px;font-size:16px;font-weight:600;cursor:pointer;width:100%;margin-bottom:15px}
            .social-buttons{display:grid;grid-template-columns:1fr 1fr;gap:10px}
            .social-btn{background:#fff;border:2px solid #693efe;border-radius:10px;padding:12px;font-size:14px;font-weight:500;color:#693efe;cursor:pointer;display:flex;align-items:center;justify-content:center}
            .download-btn{background:#693efe;color:#fff}
            .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:1000;align-items:center;justify-content:center;padding:20px}
            .modal.active{display:flex}
            .modal-content{background:#fff;border-radius:20px;padding:40px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;position:relative}
            @media(max-width:1024px){.container{grid-template-columns:1fr}.customize-card{position:relative;top:0}}
            @media(max-width:768px){.title{font-size:28px}.logo{font-size:36px}.results-grid{grid-template-columns:1fr}.careers-list{grid-template-columns:1fr}.social-buttons{grid-template-columns:1fr}}
          </style>
        </head>
        <body>
          <div class="header">
            <div class="logo">vocatio</div>
            <h1 class="title">Mis Resultados</h1>
            <p class="subtitle">Personaliza y comparte tus resultados</p>
          </div>

          <div class="container">
            <div class="main-content">
              <div class="results-card" id="resultsCard">
                <div class="results-grid">
                  <div class="result-item">
                    <div class="result-emoji">üíª</div>
                    <div class="result-name">Tecnolog√≠a</div>
                    <div class="result-percentage" id="affinity-tecnologia">‚Äî% de afinidad</div>
                  </div>
                  <div class="result-item">
                    <div class="result-emoji">üî¨</div>
                    <div class="result-name">Ciencias</div>
                    <div class="result-percentage" id="affinity-ciencias">‚Äî% de afinidad</div>
                  </div>
                  <div class="result-item">
                    <div class="result-emoji">üé®</div>
                    <div class="result-name">Arte</div>
                    <div class="result-percentage" id="affinity-innovacion">‚Äî% de afinidad</div>
                  </div>
                  <div class="result-item">
                    <div class="result-emoji">üíº</div>
                    <div class="result-name">Negocios</div>
                    <div class="result-percentage" id="affinity-analisis">‚Äî% de afinidad</div>
                  </div>
                </div>
                <div class="date-info" id="dateInfo">Realizado el ‚Äî</div>
              </div>

              <div class="careers-card">
                <h3 class="careers-title">Carreras Recomendadas</h3>
                <ul class="careers-list" id="recommended-list">
                  <!-- Se rellenar√° din√°micamente -->
                </ul>
              </div>
            </div>

            <div class="sidebar">
              <div class="customize-card">
                <h2 class="customize-title">‚ú® Personalizar</h2>
                <div class="form-group">
                  <label class="form-label">T√≠tulo personalizado</label>
                  <input type="text" class="form-input" id="customTitle" placeholder="Ej: ¬°Descubr√≠ mi vocaci√≥n!">
                </div>
                <div class="form-group">
                  <label class="form-label">Mensaje personalizado</label>
                  <textarea class="form-textarea" id="customMessage" placeholder="Agrega un mensaje personal para compartir..."></textarea>
                </div>
                <div class="form-group">
                  <label class="form-label">Tema de color</label>
                  <select class="form-select" id="colorTheme">
                    <option value="purple">Morado (Predeterminado)</option>
                    <option value="blue">Azul</option>
                    <option value="green">Verde</option>
                    <option value="orange">Naranja</option>
                    <option value="pink">Rosa</option>
                  </select>
                </div>
                <div class="form-group">
                  <label class="form-label">Mostrar fecha</label>
                  <select class="form-select" id="showDate">
                    <option value="yes">S√≠</option>
                    <option value="no">No</option>
                  </select>
                </div>
                <button class="preview-btn" id="previewBtn">üëÅÔ∏è Vista Previa</button>
              </div>

              <div class="share-card">
                <h3 class="share-title">Compartir en:</h3>
                <div class="social-buttons">
                  <a href="#" class="social-btn" id="facebookBtn">üìò Facebook</a>
                  <a href="#" class="social-btn" id="twitterBtn">üê¶ Twitter</a>
                  <a href="#" class="social-btn" id="linkedinBtn">üíº LinkedIn</a>
                  <a href="#" class="social-btn" id="instagramBtn">üì∑ Instagram</a>
                  <button class="social-btn download-btn" id="downloadBtn">‚¨áÔ∏è Descargar Imagen</button>
                </div>
              </div>
            </div>
          </div>

          <div class="modal" id="previewModal">
            <div class="modal-content">
              <button class="modal-close" id="closeModal">√ó</button>
              <h2 class="preview-title">Vista Previa para Compartir</h2>
              <div id="previewContainer"></div>
              <p style="text-align:center;color:#8b8a92;margin-top:15px;">Esta es la vista previa de c√≥mo se ver√° tu publicaci√≥n</p>
            </div>
          </div>

          <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
          <script>
            const themes = {
              purple:{primary:'#693efe',secondary:'#7e7af7',light:'#f9f8ff',border:'#d9d4ff'},
              blue:{primary:'#2563eb',secondary:'#3b82f6',light:'#eff6ff',border:'#bfdbfe'},
              green:{primary:'#059669',secondary:'#10b981',light:'#f0fdf4',border:'#bbf7d0'},
              orange:{primary:'#ea580c',secondary:'#f97316',light:'#fff7ed',border:'#fed7aa'},
              pink:{primary:'#db2777',secondary:'#ec4899',light:'#fdf2f8',border:'#fbcfe8'}
            };

            let currentTheme='purple',customTitle='',customMessage='',showDate=true;

            function applyTheme(theme){
              const colors=themes[theme];
              document.querySelectorAll('.result-item').forEach(item=>{item.style.backgroundColor=colors.light;item.style.borderColor=colors.border});
              document.querySelectorAll('.result-name').forEach(name=>name.style.color=colors.primary);
              document.querySelectorAll('.result-percentage').forEach(p=>p.style.color=colors.secondary);
              document.querySelector('.logo').style.color=colors.primary;
              document.querySelectorAll('.preview-btn,.download-btn').forEach(btn=>btn.style.backgroundColor=colors.primary);
            }

            document.getElementById('colorTheme').addEventListener('change',function(e){currentTheme=e.target.value;applyTheme(currentTheme)});
            document.getElementById('showDate').addEventListener('change',function(e){showDate=e.target.value==='yes';document.getElementById('dateInfo').style.display=showDate?'block':'none'});
            document.getElementById('previewBtn').addEventListener('click',function(){customTitle=document.getElementById('customTitle').value;customMessage=document.getElementById('customMessage').value;generatePreview()});

            function generatePreview(){
              const previewContainer=document.getElementById('previewContainer');const colors=themes[currentTheme];
              const previewCard=document.createElement('div');previewCard.style.cssText='background:#fff;border-radius:20px;padding:40px;box-shadow:0 10px 30px rgba(105,62,254,0.1)';
              const logoEl=document.createElement('div');logoEl.textContent='vocatio';logoEl.style.cssText=`font-size:42px;font-weight:700;color:${colors.primary};margin-bottom:20px;text-align:center`;previewCard.appendChild(logoEl);
              const titleEl=document.createElement('h2');titleEl.textContent=customTitle||'¬°Descubr√≠ mi vocaci√≥n!';titleEl.style.cssText='font-size:28px;font-weight:700;color:#1b1b1b;margin-bottom:15px;text-align:center';previewCard.appendChild(titleEl);
              const resultsGrid=document.createElement('div');resultsGrid.style.cssText='display:grid;grid-template-columns:repeat(2,1fr);gap:15px;margin:25px 0';
              const results=[{emoji:'üíª',name:'Tecnolog√≠a',percentage:document.getElementById('affinity-tecnologia').textContent},{emoji:'üî¨',name:'Ciencias',percentage:document.getElementById('affinity-ciencias').textContent},{emoji:'üí°',name:'Innovaci√≥n',percentage:document.getElementById('affinity-innovacion').textContent},{emoji:'üìä',name:'An√°lisis',percentage:document.getElementById('affinity-analisis').textContent}];
              results.forEach(result=>{const item=document.createElement('div');item.style.cssText=`background:${colors.light};border:3px solid ${colors.border};border-radius:15px;padding:20px;text-align:center`;item.innerHTML=`<div style="font-size:40px;margin-bottom:8px;">${result.emoji}</div><div style="font-size:20px;font-weight:700;color:${colors.primary};margin-bottom:5px;">${result.name}</div><div style="font-size:14px;color:${colors.secondary};">${result.percentage}</div>`;resultsGrid.appendChild(item)});
              previewCard.appendChild(resultsGrid);
              if(showDate){const dateEl=document.createElement('div');dateEl.textContent=document.getElementById('dateInfo').textContent;dateEl.style.cssText=`text-align:center;color:${colors.secondary};font-size:14px;margin-top:15px;padding-top:15px;border-top:2px solid ${colors.border}`;previewCard.appendChild(dateEl)}
              if(customMessage){const messageEl=document.createElement('p');messageEl.textContent=customMessage;messageEl.style.cssText='font-size:16px;color:#67666f;margin-top:20px;text-align:center;line-height:1.6;padding:15px;background:#f9f8ff;border-radius:10px';previewCard.appendChild(messageEl)}
              const hashtagsEl=document.createElement('div');hashtagsEl.textContent='#Vocatio #TestVocacional #MiVocaci√≥n';hashtagsEl.style.cssText=`text-align:center;color:${colors.primary};font-size:14px;margin-top:20px;font-weight:600`;previewCard.appendChild(hashtagsEl);
              previewContainer.innerHTML='';previewContainer.appendChild(previewCard);document.getElementById('previewModal').classList.add('active')}

            document.getElementById('closeModal').addEventListener('click',function(){document.getElementById('previewModal').classList.remove('active')});
            document.getElementById('previewModal').addEventListener('click',function(e){if(e.target===this)this.classList.remove('active')});

            function getShareUrl(network){const pageUrl=encodeURIComponent(window.location.href);const title=customTitle||'¬°Mira mis resultados del test vocacional!';const message=customMessage||'Descubr√≠ mis √°reas de mayor afinidad vocacional';const text=encodeURIComponent(`${title} ${message} en Vocatio üíªüî¨ #Vocatio #TestVocacional`);switch(network){case'facebook':return`https://www.facebook.com/sharer/sharer.php?u=${pageUrl}`;case'twitter':return`https://twitter.com/intent/tweet?url=${pageUrl}&text=${text}`;case'linkedin':return`https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}`;default:return null}}

            document.getElementById('facebookBtn').addEventListener('click',function(e){e.preventDefault();const url=getShareUrl('facebook');if(url)window.open(url,'_blank','width=600,height=400')});
            document.getElementById('twitterBtn').addEventListener('click',function(e){e.preventDefault();const url=getShareUrl('twitter');if(url)window.open(url,'_blank','width=600,height=400')});
            document.getElementById('linkedinBtn').addEventListener('click',function(e){e.preventDefault();const url=getShareUrl('linkedin');if(url)window.open(url,'_blank','width=600,height=400')});
            document.getElementById('instagramBtn').addEventListener('click',function(e){e.preventDefault();alert('üí° Consejo: Usa el bot√≥n "Descargar Imagen" para guardar tu resultado y compartirlo en Instagram Stories o Feed')});

            document.getElementById('downloadBtn').addEventListener('click',async function(){this.textContent='‚è≥ Generando...';this.disabled=true;try{const tempDiv=document.createElement('div');tempDiv.style.cssText='position:fixed;left:-9999px;top:0';document.body.appendChild(tempDiv);const colors=themes[currentTheme];const previewCard=document.createElement('div');previewCard.style.cssText=`background:#fff;width:1200px;padding:60px;font-family:'Inter',sans-serif`;const logoEl=document.createElement('div');logoEl.textContent='vocatio';logoEl.style.cssText=`font-size:52px;font-weight:700;color:${colors.primary};margin-bottom:25px;text-align:center`;previewCard.appendChild(logoEl);const titleEl=document.createElement('h2');titleEl.textContent=customTitle||'¬°Descubr√≠ mi vocaci√≥n!';titleEl.style.cssText='font-size:36px;font-weight:700;color:#1b1b1b;margin-bottom:20px;text-align:center';previewCard.appendChild(titleEl);const resultsGrid=document.createElement('div');resultsGrid.style.cssText='display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin:30px 0';const results=[{emoji:'üíª',name:'Tecnolog√≠a',percentage:document.getElementById('affinity-tecnologia').textContent},{emoji:'üî¨',name:'Ciencias',percentage:document.getElementById('affinity-ciencias').textContent},{emoji:'üí°',name:'Innovaci√≥n',percentage:document.getElementById('affinity-innovacion').textContent},{emoji:'üìä',name:'An√°lisis',percentage:document.getElementById('affinity-analisis').textContent}];results.forEach(result=>{const item=document.createElement('div');item.style.cssText=`background:${colors.light};border:3px solid ${colors.border};border-radius:15px;padding:30px;text-align:center`;item.innerHTML=`<div style="font-size:52px;margin-bottom:10px">${result.emoji}</div><div style="font-size:26px;font-weight:700;color:${colors.primary};margin-bottom:8px">${result.name}</div><div style="font-size:18px;color:${colors.secondary}">${result.percentage}</div>`;resultsGrid.appendChild(item)});previewCard.appendChild(resultsGrid);if(showDate){const dateEl=document.createElement('div');dateEl.textContent=document.getElementById('dateInfo').textContent;dateEl.style.cssText=`text-align:center;color:${colors.secondary};font-size:16px;margin-top:20px;padding-top:20px;border-top:2px solid ${colors.border}`;previewCard.appendChild(dateEl)}if(customMessage){const messageEl=document.createElement('p');messageEl.textContent=customMessage;messageEl.style.cssText='font-size:18px;color:#67666f;margin-top:25px;text-align:center;line-height:1.6;padding:20px;background:#f9f8ff;border-radius:10px';previewCard.appendChild(messageEl)}const hashtagsEl=document.createElement('div');hashtagsEl.textContent='#Vocatio #TestVocacional #MiVocaci√≥n';hashtagsEl.style.cssText=`text-align:center;color:${colors.primary};font-size:16px;margin-top:25px;font-weight:600`;previewCard.appendChild(hashtagsEl);tempDiv.appendChild(previewCard);const canvas=await html2canvas(previewCard,{backgroundColor:'#ffffff',scale:2,logging:false,width:1200});document.body.removeChild(tempDiv);const link=document.createElement('a');link.download='mis-resultados-vocatio.png';link.href=canvas.toDataURL('image/png');link.click();this.textContent='‚úÖ ¬°Descargado!';setTimeout(()=>{this.textContent='‚¨áÔ∏è Descargar Imagen';this.disabled=false},2000)}catch(error){console.error('Error al generar imagen:',error);this.textContent='‚ùå Error';setTimeout(()=>{this.textContent='‚¨áÔ∏è Descargar Imagen';this.disabled=false},2000)}});

            // Inicializar valores por defecto: sin progreso
            document.addEventListener('DOMContentLoaded',function(){
              document.getElementById('affinity-tecnologia').textContent='0% de afinidad';
              document.getElementById('affinity-analisis').textContent='0% de afinidad';
              document.getElementById('affinity-ciencias').textContent='0% de afinidad';
              document.getElementById('affinity-innovacion').textContent='0% de afinidad';
              document.getElementById('dateInfo').textContent='Sin progreso registrado';
              document.getElementById('recommended-list').innerHTML='<li>A√∫n no hay carreras recomendadas</li>';
              applyTheme(currentTheme);
            });
          </script>
        </body>
        </html>
